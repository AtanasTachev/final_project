(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],[,,,,,,,function(e,t){t.baseUrl="http://localhost:3030"},,function(e,t,c){},,,function(e,t,c){},,,,,,,,,,function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(13),s=c.n(r),i=(c(22),c(4)),l=c(2),o=(c(9),c(5)),j=function(e,t){var c=Object(n.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return console.log(n),t}})),a=Object(o.a)(c,2),r=a[0],s=a[1];return[r,function(t){try{localStorage.setItem(e,JSON.stringify(t)),s(t)}catch(c){console.log(c)}}]},u=c(0),d=Object(n.createContext)(),b={_id:"",email:"",accessToken:""},h=function(e){var t=e.children,c=j("user",b),n=Object(o.a)(c,2),a=n[0],r=n[1],s=Boolean(a.email);return Object(u.jsx)(d.Provider,{value:{user:a,login:function(e){r(e)},logout:function(){r(b)},isAuthenticated:s},children:t})},p=function(){var e=Object(n.useContext)(d).user;return Object(u.jsxs)("nav",{className:"nav",children:[Object(u.jsx)(i.b,{to:"/",className:"h2tag",children:" Project Workflow "}),Object(u.jsxs)("ul",{children:[Object(u.jsx)(i.b,{to:"/",className:"atag",children:" Home "}),e.email?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{className:"atag",children:["Welcome ",e.email," "]}),Object(u.jsx)(i.b,{to:"/allUsers",className:"atag",children:"All Users"}),Object(u.jsx)(i.b,{to:"/create-project",className:"atag",children:"Create Project"}),Object(u.jsx)(i.b,{to:"users/myProfile/:userId",className:"atag",children:"My profile"}),Object(u.jsx)(i.b,{to:"/logout",className:"atag",children:"Logout"})," "]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.b,{to:"/login",className:"atag",children:"Login"}),Object(u.jsx)(i.b,{to:"/register",className:"atag",children:"Register"})]})]})]})},O=function(){return Object(u.jsx)("nav",{className:"footer",children:Object(u.jsx)("p",{children:"All rights reserved \xa9"})})},x=c(3),m=c.n(x),f=c(6),g=c(7),v=function(){var e=Object(f.a)(m.a.mark((function e(t,c){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/users/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:t,password:c})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,!n.ok){e.next=10;break}return e.abrupt("return",a);case 10:throw a.message;case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(m.a.mark((function e(t,c,n,a,r,s,i){var l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/users/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({specialty:t,title:c,firstName:n,lastName:a,email:r,password:s,repeatPassword:i})});case 2:return l=e.sent,e.next=5,l.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,c,n,a,r,s,i){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g.baseUrl,"/users/").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/users"));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/users/sort"));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g.baseUrl,"/users/delete/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(c(25),function(){var e=Object(l.h)(),t=Object(n.useContext)(d).login;return Object(u.jsx)("section",{id:"register-page",children:Object(u.jsxs)("div",{className:"signupSection",children:[Object(u.jsx)("div",{className:"info",children:Object(u.jsx)("h2",{children:"To organize better your workflow and save time and effort while managing a project."})}),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault();var n=new FormData(c.currentTarget),a=n.get("specialty"),r=n.get("title"),s=n.get("firstName"),i=n.get("lastName"),l=n.get("email"),o=n.get("password"),j=n.get("repeatPassword");o===j&&N(a,r,s,i,l,o,j).then((function(c){t(c),e("/")}))},method:"POST",className:"signupForm",children:[Object(u.jsx)("h2",{children:"Sign Up"}),Object(u.jsxs)("ul",{className:"noBullet",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"specialty",children:"Specialty:"}),Object(u.jsxs)("select",{name:"specialty",id:"specialty",className:"inputFields",children:["\xa0 ",Object(u.jsx)("option",{value:"Arch",children:"Arch"}),"\xa0 ",Object(u.jsx)("option",{value:"Struct",children:"Struct"}),"\xa0 ",Object(u.jsx)("option",{value:"WSS",children:"WSS"}),"\xa0 ",Object(u.jsx)("option",{value:"El",children:"El"}),"\xa0 ",Object(u.jsx)("option",{value:"HVAC",children:"HVAC"}),"\xa0 ",Object(u.jsx)("option",{value:"FS",children:"FS"}),"\xa0 ",Object(u.jsx)("option",{value:"LS",children:"LS"}),"\xa0 ",Object(u.jsx)("option",{value:"GD",children:"GD"})]})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(u.jsxs)("select",{name:"title",id:"title",className:"inputFields",children:["\xa0 ",Object(u.jsx)("option",{value:"arch.",children:"arch."}),"\xa0 ",Object(u.jsx)("option",{value:"eng.",children:"eng."}),"\xa0 ",Object(u.jsx)("option",{value:"l.arch.",children:"l.arch."})]})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"first-name",children:"First Name:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"first-name",name:"firstName",placeholder:"Andrey"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"last-name",children:"Last Name:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"last-name",name:"lastName",placeholder:"Georgiev"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"email",name:"email",placeholder:"andrey@gmail.com"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",className:"inputFields",id:"password",name:"password",placeholder:"******"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"repeat-password",children:"Repeat-Password:"}),Object(u.jsx)("input",{type:"password",className:"inputFields",id:"repeat-password",name:"repeatPassword",placeholder:"******"})]}),Object(u.jsx)("li",{id:"center-btn",children:Object(u.jsx)("button",{type:"submit",id:"join-btn",children:"Register"})})]})]})]})})}),P=Object(n.createContext)(),T="danger",U="warning",C="success",k={show:!1,message:"",type:T},I=function(e){var t=e.children,c=Object(n.useState)(k),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;s({show:!0,message:e,type:t}),setTimeout((function(){s(k)}),3500)}),[k]),l=Object(n.useCallback)((function(){return s(k)}));return Object(u.jsx)(P.Provider,{value:{notification:r,addNotification:i,hideNotification:l},children:t})},E=function(){return Object(n.useContext)(P)},L=(c(26),function(){var e=Object(n.useContext)(d).login,t=Object(l.h)(),c=E().addNotification;return Object(u.jsx)("section",{id:"login-page",children:Object(u.jsxs)("div",{className:"loginSection",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:"Welcome, Ready to do some work?!"}),Object(u.jsx)("p",{children:"See how things are at this moment."})]}),Object(u.jsxs)("form",{method:"POST",className:"loginForm",onSubmit:function(n){n.preventDefault();var a=new FormData(n.currentTarget),r=a.get("email"),s=a.get("password");v(r,s).then((function(n){e(n),c("You logged in successfully",C),t("/")})).catch((function(e){c("Invalid username or password",U),console.log({message:e.message})}))},children:[Object(u.jsx)("h2",{children:"Login"}),Object(u.jsxs)("ul",{className:"noBullet",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"email",name:"email",placeholder:"andrey@gmail.com"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",className:"inputFields",id:"password",name:"password",placeholder:"*******"})]}),Object(u.jsx)("li",{id:"center-btn",children:Object(u.jsx)("button",{id:"login-btn",children:"Login"})})]})]})]})})}),_=function(){var e=Object(l.h)(),t=Object(n.useContext)(d),c=t.user,a=t.logout;return Object(n.useEffect)((function(){(c.accessToken,fetch("".concat(g.baseUrl,"/users/logout"),{method:"POST",headers:{"content-type":"application/json"}})).then((function(){a(),e("/")}))}),[c.accessToken,a,e]),null},B=function(){var e=Object(f.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/projects"));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g.baseUrl,"/projects/details/").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n,a,r,s,i,l,o,j,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title,n=t.contractor,a=t.location,r=t.startDate,s=t.dueDate,i=t.imageUrl,l=t.description,o=t.lead,j=t.creator,e.next=3,fetch("".concat(g.baseUrl,"/projects/create"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:c,contractor:n,location:a,startDate:r,dueDate:s,imageUrl:i,description:l,lead:o,creator:j})});case 3:return u=e.sent,e.next=6,u.json();case 6:return d=e.sent,e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(m.a.mark((function e(t,c,n,a,r,s,i,l,o){var j,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseUrl,"/projects/edit/").concat(t),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({title:c,contractor:n,location:a,startDate:r,dueDate:s,imageUrl:i,description:l,lead:o})});case 2:return j=e.sent,e.next=5,j.json();case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,c,n,a,r,s,i,l,o){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g.baseUrl,"/projects/delete/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(m.a.mark((function e(t,c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g.baseUrl,"/projects/join/").concat(t),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({projectId:t,userId:c})}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(m.a.mark((function e(t,c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(g.baseUrl,"/projects/leave/").concat(t),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({projectId:t,userId:c})}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),W=(c(27),function(e){var t=e.project,c=Object(n.useContext)(d).user,a=Boolean(c._id);return Object(u.jsxs)("li",{className:"h2tag",children:[Object(u.jsxs)("h4",{children:["Project Title: ",t.title]}),Object(u.jsxs)("p",{children:["Location: ",t.location]}),Object(u.jsxs)("p",{children:["Lead: ",t.lead]}),Object(u.jsx)("img",{width:"350",height:"200",src:t.imageUrl,alt:"projectImg"}),a?Object(u.jsx)(i.b,{className:"atag",to:"/projects/details/".concat(t._id),children:"Details"}):""]})}),G=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){B().then((function(e){a(e)}))}),[]),Object(u.jsx)("ul",{children:c.map((function(e){return Object(u.jsx)(W,{project:e},e._id)}))})},Y=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(G,{}),Object(u.jsx)("img",{className:"center",src:"https://transitionbydesign.org/wp-content/uploads/2020/06/manorfarm-base.png",alt:"backgroundImg"})]})},z=(c(28),function(){var e,t=Object(n.useContext)(d).user,c=Object(l.h)(),a=E().addNotification;return Object(u.jsx)("section",{id:"login-page",children:Object(u.jsxs)("div",{className:"loginSection",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:"Let's create a project"}),Object(u.jsx)("p",{children:"Create a project step by step."})]}),Object(u.jsxs)("form",{method:"POST",className:"loginForm",onSubmit:function(n){n.preventDefault();var r=new FormData(n.currentTarget),s=r.get("title"),i=r.get("contractor"),l=r.get("location"),o=r.get("startDate"),j=r.get("dueDate"),u=r.get("imageUrl"),d=r.get("description"),b=r.get("lead"),h=t._id;""!==s&&""!==i&&""!==l&&""!==o&&""!==j&&""!==u&&""!==d&&""!==b?s.length<6?e="Title should be at least 6 characters long!":A({title:s,contractor:i,location:l,startDate:o,dueDate:j,imageUrl:u,description:d,lead:b,creator:h}).then((function(e){a("You successfully added a project!",C),c("/")})).catch((function(t){a(["".concat(t.message),e],U)})):a("Fields cannot be empty",U)},children:[Object(u.jsx)("h2",{children:"Create Project"}),Object(u.jsxs)("ul",{className:"noBullet",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"title",name:"title",placeholder:"My Project"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"contractor",children:"Contractor:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"contractor",name:"contractor",placeholder:"Contractor"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"location",name:"location",placeholder:"Location"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"startDate",children:"Start Date:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"startDate",name:"startDate",placeholder:"Start Date"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"dueDate",children:"Due Date:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"dueDate",name:"dueDate",placeholder:"Due Date"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"imageUrl",children:"Image Url:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"imageUrl",name:"imageUrl",placeholder:"Image Url"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"description",name:"description",placeholder:"Description"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"lead",children:"Lead:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"lead",name:"lead",placeholder:"Lead"})]}),Object(u.jsx)("li",{id:"center-btn",children:Object(u.jsx)("button",{id:"login-btn",children:"Create Project"})})]})]})]})})}),q=(c(29),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(l.i)().projectId,s=Object(l.h)();Object(n.useEffect)((function(){J(r).then((function(e){a(e)}))}),[r]);var i=function(){var e=Object(f.a)(m.a.mark((function e(t){var c,n,a,i,l,o,j,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=new FormData(t.currentTarget),n=c.get("title"),a=c.get("contractor"),i=c.get("location"),l=c.get("startDate"),o=c.get("dueDate"),j=c.get("imageUrl"),u=c.get("description"),d=c.get("lead"),e.next=12,V(r,n,a,i,l,o,j,u,d).then((function(e){s("/projects/details/".concat(r))}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("section",{id:"login-page",children:Object(u.jsxs)("div",{className:"loginSection",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:"Let's edit a project"}),Object(u.jsx)("p",{children:"Edit a project step by step."})]}),Object(u.jsxs)("form",{action:"/edit-project",method:"PUT",className:"loginForm",onSubmit:i,children:[Object(u.jsx)("h2",{children:"Edit Project"}),Object(u.jsxs)("ul",{className:"noBullet",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"title",name:"title",placeholder:"My Project",defaultValue:c.title||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"contractor",children:"Contractor:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"contractor",name:"contractor",placeholder:"Contractor",defaultValue:c.contractor||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"location",name:"location",placeholder:"Location",defaultValue:c.location||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"startDate",children:"Start Date:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"startDate",name:"startDate",placeholder:"Start Date",defaultValue:c.startDate||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"dueDate",children:"Due Date:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"dueDate",name:"dueDate",placeholder:"Due Date",defaultValue:c.dueDate||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"imageUrl",children:"Image Url:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"imageUrl",name:"imageUrl",placeholder:"Image Url",defaultValue:c.imageUrl||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"description",name:"description",placeholder:"Description",defaultValue:c.description||""})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("label",{htmlFor:"lead",children:"Lead:"}),Object(u.jsx)("input",{type:"text",className:"inputFields",id:"lead",name:"lead",placeholder:"Lead",defaultValue:c.lead||""})]}),Object(u.jsx)("li",{id:"center-btn",children:Object(u.jsx)("button",{id:"login-btn",children:"Edit Project"})})]})]})]})})}),K=(c(12),function(){var e=Object(l.h)(),t=Object(n.useContext)(d).user,c=Object(n.useState)({}),a=Object(o.a)(c,2),r=a[0],s=a[1],j=Object(n.useState)({}),b=Object(o.a)(j,2),h=b[0],p=b[1],O=Object(l.i)().projectId;Object(n.useEffect)((function(){J(O).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[O]),Object(n.useEffect)((function(){y(t._id).then((function(e){p(e.projectsJoined)})).catch((function(e){console.log(e)}))}),[t._id]);var x="";h.length>0&&(x=h.map((function(e){return e._id})).includes(O));var m=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.b,{to:"/edit/".concat(O),className:"aBlueTag",children:"Edit Project"}),Object(u.jsx)(i.b,{to:"/delete/".concat(O),onClick:function(t){t.preventDefault(),R(O).then((function(){e("/")}))},className:"aRedTag",children:"Delete Project"})]}),f=Object(u.jsx)(u.Fragment,{children:x?Object(u.jsx)(i.b,{to:"/leave/".concat(O),onClick:function(c){c.preventDefault(),M(O,t._id).then((function(){e("/projects/details/".concat(O))}))},className:"aRedTag",children:"Leave Project"}):Object(u.jsx)(i.b,{to:"/join/".concat(O),onClick:function(c){c.preventDefault(),H(O,t._id).then((function(){e("/projects/details/".concat(O))}))},className:"aBlueTag",children:"Join Project"})});return Object(u.jsxs)("li",{className:"h2tag",children:[Object(u.jsxs)("h4",{children:["Project Title: ",r.title]}),Object(u.jsxs)("p",{children:["Contractor: ",r.contractor]}),Object(u.jsxs)("p",{children:["Location: ",r.location]}),Object(u.jsxs)("p",{children:["Start Date: ",r.startDate]}),Object(u.jsxs)("p",{children:["Due Date: ",r.dueDate]}),Object(u.jsxs)("p",{children:["Description: ",r.description]}),Object(u.jsxs)("p",{children:["Lead: ",r.lead]}),Object(u.jsx)("img",{width:"350",src:r.imageUrl,alt:"projectImg"}),t._id&&t._id===r.creator?m:f,Object(u.jsx)(i.b,{to:"/team/".concat(O),className:"aBlueTag",children:"Show Team"})]})}),Q=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({}),s=Object(o.a)(r,2),i=s[0],j=s[1],d=Object(l.i)().projectId;return Object(n.useEffect)((function(){J(d).then((function(e){j(e),a(e.team)})).catch((function(e){console.log(e)}))}),[d]),c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{children:["Project: ",i.title]}),Object(u.jsxs)("div",{className:"h2tag",children:["Team:",c.length>0?Object(u.jsx)("ul",{children:c.map((function(e){return Object(u.jsxs)("li",{className:"list",children:[e.specialty," ",e.title," ",e.firstName," ",e.lastName]},e._id)}))}):Object(u.jsx)("p",{children:"No specialists in team"})]})]}):null},X=function(){var e=Object(l.h)(),t=Object(n.useContext)(d).user,c=Object(n.useState)({}),a=Object(o.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){y(t._id).then((function(e){s(e)}))}),[t._id]);return Object(u.jsxs)("li",{className:"h2tag",children:[Object(u.jsxs)("h4",{children:["Name: ","".concat(r.firstName," ").concat(r.lastName)]}),Object(u.jsxs)("p",{children:["Title: ",r.title]}),Object(u.jsxs)("p",{children:["Specialty: ",r.specialty]}),Object(u.jsxs)("p",{children:["Email: ",r.email]}),Object(u.jsx)(i.b,{to:"/delete/".concat(t._id),onClick:function(c){c.preventDefault(),D(t._id).then((function(){e("/")}))},className:"aRedTag",children:"Delete User"}),Object(u.jsx)(i.b,{to:"/users/projectsInvolved/".concat(t._id),className:"aBlueTag",children:"Projects Involved"})]})},Z=(c(30),function(e){var t=e.userInfo,c=Object(n.useState)([]),a=Object(o.a)(c,2),r=(a[0],a[1]),s=Boolean(t),l=t._id;return Object(n.useEffect)((function(){w(t.specialty).then((function(e){r(e)}))}),[]),Object(u.jsxs)("li",{className:"h2tagList",children:[Object(u.jsxs)("h4",{children:["Full Name: ","".concat(t.firstName," ").concat(t.lastName)]}),Object(u.jsxs)("p",{children:["Title: ",t.title]}),Object(u.jsxs)("p",{children:["Specialty: ",t.specialty]}),s?Object(u.jsx)(i.b,{className:"atag",id:l,to:"/users/details/".concat(t._id),children:"Details"}):""]})}),$=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){F().then((function(e){a(e)}))}),[]),Object(u.jsx)("ul",{children:c.map((function(e){return Object(u.jsx)(Z,{userInfo:e},e._id)}))})},ee=function(){return Object(u.jsx)("ul",{children:Object(u.jsx)($,{})})},te=function(){var e=Object(l.i)().userId,t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){y(e).then((function(e){r(e)}))}),[e]),Object(u.jsxs)("li",{className:"h2tagList",children:[Object(u.jsxs)("h4",{children:["Name: ","".concat(a.firstName," ").concat(a.lastName)]}),Object(u.jsxs)("p",{children:["Title: ",a.title]}),Object(u.jsxs)("p",{children:["Specialty: ",a.specialty]}),Object(u.jsxs)("p",{children:["Email: ",a.email]}),Object(u.jsx)(i.b,{to:"/users/projectsInvolved/".concat(a._id),className:"aBlueTag",children:"Projects Involved"})]})},ce=(c(31),function(){var e=E(),t=e.notification,c=e.hideNotification;return t.show?Object(u.jsxs)("div",{className:["notification",t.type].join(" "),children:[Object(u.jsx)("button",{className:"closeSign",onClick:c,children:"x"}),Object(u.jsx)("p",{className:"center",children:t.message})]}):null}),ne=function(){return Object(n.useContext)(d).isAuthenticated?Object(u.jsx)(l.b,{}):Object(u.jsx)(l.a,{to:"/login"})},ae=c(14),re=c(15),se=c(17),ie=c(16),le=function(e){Object(se.a)(c,e);var t=Object(ie.a)(c);function c(e){var n;return Object(ae.a)(this,c),(n=t.call(this,e)).state={error:null},n}return Object(re.a)(c,[{key:"componentDidCatch",value:function(e){console.log(e)}},{key:"render",value:function(){return this.state.error?Object(u.jsx)("h1",{children:"404 Not Found"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),c}(n.Component),oe=function(){var e=Object(l.i)().userId,t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)({}),i=Object(o.a)(s,2),j=i[0],d=i[1],b=Object(n.useState)({}),h=Object(o.a)(b,2),p=h[0],O=h[1];return Object(n.useEffect)((function(){y(e).then((function(e){r(e),d(e.projectsJoined),O(e.myProjects)}))}),[e]),Object(u.jsxs)("div",{className:"h2tag",children:[Object(u.jsxs)("h4",{children:["Name: ","".concat(a.title).concat(a.firstName," ").concat(a.lastName)]}),Object(u.jsxs)("p",{children:["Specialty: ",a.specialty]}),Object(u.jsxs)("ul",{children:[" ",Object(u.jsx)("h4",{children:"Projects Joined"}),j.length>0?j.map((function(e){return Object(u.jsx)("li",{className:"list",children:e.title},e._id)})):Object(u.jsx)("li",{className:"list",children:"No projects joined jet!"})]}),Object(u.jsxs)("ul",{children:[" ",Object(u.jsx)("h4",{children:"My Projects"}),p.length>0?p.map((function(e){return Object(u.jsx)("li",{className:"list",children:e.title},e._id)})):Object(u.jsx)("li",{className:"list",children:"No projects created jet!"})]})]})};var je=function(){return Object(u.jsx)(le,{children:Object(u.jsx)(h,{children:Object(u.jsx)(I,{children:Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsx)(ce,{}),Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsxs)(l.e,{children:[Object(u.jsx)(l.c,{path:"/",element:Object(u.jsx)(Y,{})}),Object(u.jsx)(l.c,{path:"/register",element:Object(u.jsx)(S,{})}),Object(u.jsx)(l.c,{path:"/login",element:Object(u.jsx)(L,{})}),Object(u.jsx)(l.c,{path:"/logout",element:Object(u.jsx)(_,{})}),Object(u.jsxs)(l.c,{element:Object(u.jsx)(ne,{}),children:[Object(u.jsx)(l.c,{path:"/users/details/:userId",element:Object(u.jsx)(te,{})}),Object(u.jsx)(l.c,{path:"/users/myProfile/:userId",element:Object(u.jsx)(X,{})}),Object(u.jsx)(l.c,{path:"/users/projectsInvolved/:userId",element:Object(u.jsx)(oe,{})}),Object(u.jsx)(l.c,{path:"/create-project",element:Object(u.jsx)(z,{})}),Object(u.jsx)(l.c,{path:"/projects/details/:projectId",element:Object(u.jsx)(K,{})}),Object(u.jsx)(l.c,{path:"/team/:projectId",element:Object(u.jsx)(Q,{})}),Object(u.jsx)(l.c,{path:"/edit/:projectId",element:Object(u.jsx)(q,{})})]}),Object(u.jsx)(l.c,{path:"/allUsers",element:Object(u.jsx)(ee,{})})]})}),Object(u.jsx)(O,{})]})})})})})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(je,{})}),document.getElementById("root")),ue()}],[[32,1,2]]]);
//# sourceMappingURL=main.783b3739.chunk.js.map